<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">-->
<head th:replace="partials/navbar :: head">
<!-- replace this header with what I am referencing in this file path -->
    <title>Posts</title>
</head>
<body>
<nav th:replace="partials/navbar :: exercise-navbar"></nav>
<br>
<h1>Check out all these great posts!</h1>
<br>
<th:block th:each="post : ${currentPosts}"> <!--th:each tag allows us to loop over a collection. currentPosts var was created in the controller -->
    <h3 th:text="${post.title}"></h3> <!--referencing the constructor in Post.java-->
    <p th:text="${post.body}"></p>
    <a th:href="@{/posts/{id}(id=${post.id})}">Click here to view owner details</a>
    <form method="post" th:action="@{/posts/delete/{id}(id=${post.id})}">
        <button type="submit">Delete Post</button>
    </form>
    <br>
    <br>
<!--    <div sec:authorize="isAuthenticated()">-->
<!--        This content is only shown to authenticated users.-->

<!--        User ID: <span th:text="${#authentication.principal.id}"/>-->
<!--        Username: <span th:text="${#authentication.principal.username}"/>-->
<!--        Email: <span th:text="${#authentication.principal.email}"/>-->
<!--    </div>-->
</th:block>



<br>
 <!-- This referencing the post/{id} method -->
<footer th:replace="partials/navbar :: footer"></footer>
</body>
</html>